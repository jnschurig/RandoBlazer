NUMBER_OF_REGIONS = 79

NUMBER_OF_GOALS = 78

LOCATION_ID_LOOKUP = {
    "CHEST_SWORD_OF_LIFE"               : 0,
    "CHEST_DREAM_ROD"                   : 5,
    "CHEST_LEOS_BRUSH"                  : 6,
    "CHEST_MOLES_RIBBON"                : 10,
    "CHEST_DELICIOUS_SEEDS"             : 14,
    "CHEST_BIG_PEARL"                   : 23,
    "CHEST_EMBLEM_D"                    : 24,
    "CHEST_LUCKY_BLADE"                 : 40,
    "CHEST_ZANTETSU_SWORD"              : 43,
    "CHEST_SPIRIT_SWORD"                : 51,
    "CHEST_EMBLEM_B"                    : 55,
    "CHEST_RED_HOT_BALL"                : 62,
    "CHEST_SOUL_ARMOR"                  : 63,
    "CHEST_SOUL_BLADE"                  : 64,
    "ITEM_TOOL_SHOP_OWNER"              : 66,
    "ITEM_EMBLEM_A"                     : 67,
    "ITEM_GOAT_PEN"                     : 68,
    "ITEM_TEDDY"                        : 69,
    "ITEM_PASS"                         : 70,
    "ITEM_SECRET_CAVE_TILE"             : 71,
    "ITEM_VILLAGE_CHIEF"                : 72,
    "ITEM_MAGICIAN"                     : 73,
    "ITEM_CRYSTAL_RECOVERY_SWORD"       : 74,
    "ITEM_CRYSTAL_GRASS_VALLEY"         : 75,
    "ITEM_CRYSTAL_UNDERGROUND_CASTLE"   : 76,
    "ITEM_BIRD_RED_HOT_MIRROR"          : 77,
    "ITEM_CRYSTAL_MAGIC_BELL"           : 78,
    "ITEM_WOODSTIN_TRIO"                : 79,
    "ITEM_GREENWOODS_GUARDIAN"          : 80,
    "ITEM_GREENWOOD_LEAVES"             : 81,
    "ITEM_MOLE_SHIELD_BRACELET"         : 82,
    "ITEM_SQUIRREL_PSYCHO_SWORD"        : 83,
    "ITEM_SQUIRREL_EMBLEM_C"            : 84,
    "ITEM_WATER_SHRINE_TILE"            : 85,
    "ITEM_CRYSTAL_LIGHT_ARROW"          : 86,
    "ITEM_CRYSTAL_LOST_MARSH"           : 87,
    "ITEM_CRYSTAL_WATER_SHRINE"         : 88,
    "ITEM_CRYSTAL_FIRE_SHRINE"          : 89,
    "ITEM_MOUNTAIN_KING"                : 90,
    "ITEM_BOY_MUSHROOM_SHOES"           : 91,
    "ITEM_NOME"                         : 92,
    "ITEM_SNAIL_EMBLEM_E"               : 93,
    "ITEM_EMBLEM_F"                     : 94,
    "ITEM_CRYSTAL_MOUNTAIN_OF_SOULS"    : 95,
    "ITEM_CRYSTAL_LUNE"                 : 96,
    "ITEM_EMBLEM_G"                     : 97,
    "ITEM_CHEST_OF_DRAWERS_MYSTIC_ARMOR": 98,
    "ITEM_PLANT_HERB"                   : 99,
    "ITEM_CAT_DOOR_KEY"                 : 100,
    "ITEM_PLANT_ACTINIDIA_LEAVES"       : 101,
    "ITEM_CHEST_OF_DRAWERS_HERB"        : 102,
    "ITEM_MARIE"                        : 103,
    "ITEM_MOUSE_SPARK_BOMB"             : 104,
    "ITEM_CRYSTAL_LEOS_LAB_BASEMENT"    : 105,
    "ITEM_CRYSTAL_MODEL_TOWN"           : 106,
    "ITEM_CRYSTAL_POWER_PLANT"          : 107,
    "ITEM_SOLDIER_ELEMENTAL_MAIL"       : 108,
    "ITEM_SUPER_BRACELET"               : 109,
    "ITEM_QUEEN_MAGRIDD"                : 110,
    "ITEM_SOLDIER_PLATINUM_CARD"        : 111,
    "ITEM_MAID_HERB"                    : 112,
    "ITEM_EMBLEM_H"                     : 113,
    "ITEM_KING_MAGRIDD"                 : 114,
    "ITEM_DR_LEO"                       : 115,
    "ITEM_HARP_STRING"                  : 116,
    "ITEM_MERMAID_HERB"                 : 117,
    "ITEM_MERMAID_BUBBLE_ARMOR"         : 118,
    "ITEM_MERMAID_MAGIC_FLARE"          : 119,
    "ITEM_MERMAID_QUEEN"                : 120,
    "ITEM_MERMAID_RED_HOT_STICK"        : 121,
    "ITEM_LUE"                          : 122,
    "ITEM_CRYSTAL_ROCKBIRD"             : 123,
    "ITEM_CRYSTAL_SEABED_NEAR_BLESTER"  : 124,
    "ITEM_CRYSTAL_SEABED_NEAR_DUREAN"   : 125
}

NPC_ID = {
    "NPC_OLD_WOMAN"                     : 2,
    "NPC_TOOL_SHOP_OWNER"               : 6,
    "NPC_TULIP"                         : 7,
    "NPC_BRIDGE_GUARD"                  : 8,
    "NPC_VILLAGE_CHIEF"                 : 9,
    "NPC_IVY_CHEST_ROOM"                : 13,
    "NPC_WATER_MILL"                    : 14,
    "NPC_GOAT_HERB"                     : 15,
    "NPC_LISA"                          : 16,
    "NPC_TULIP2"                        : 17,
    "NPC_ARCHITECT"                     : 18,
    "NPC_IVY"                           : 19,
    "NPC_GOAT"                          : 21,
    "NPC_TEDDY"                         : 22,
    "NPC_TULIP3"                        : 24,
    "NPC_LEOS_HOUSE"                    : 26,
    "NPC_LONELY_GOAT"                   : 29,
    "NPC_TULIP_PASS"                    : 34,
    "NPC_BOY_CABIN"                     : 35,
    "NPC_BOY_CAVE"                      : 37,
    "NPC_OLD_MAN"                       : 40,
    "NPC_OLD_MAN2"                      : 41,
    "NPC_IVY2"                          : 42,
    "NPC_IVY_EMBLEM_A"                  : 43,
    "NPC_IVY_RECOVERY_SWORD"            : 44,
    "NPC_TULIP4"                        : 46,
    "NPC_GOAT2"                         : 47,
    "NPC_BIRD_RED_HOT_MIRROR"           : 55,
    "NPC_BIRD"                          : 56,
    "NPC_DOG"                           : 60,
    "NPC_DOG2"                          : 61,
    "NPC_DOG3"                          : 63,
    "NPC_MOLE_SHIELD_BRACELET"          : 64,
    "NPC_SQUIRREL_EMBLEM_C"             : 65,
    "NPC_SQUIRREL_PSYCHO_SWORD"         : 67,
    "NPC_BIRD2"                         : 70,
    "NPC_MOLE_SOUL_OF_LIGHT"            : 73,
    "NPC_DEER"                          : 74,
    "NPC_CROCODILE"                     : 78,
    "NPC_SQUIRREL"                      : 79,
    "NPC_GREENWOODS_GUARDIAN"           : 80,
    "NPC_MOLE"                          : 81,
    "NPC_DOG4"                          : 86,
    "NPC_SQUIRREL_ICE_ARMOR"            : 88,
    "NPC_SQUIRREL2"                     : 89,
    "NPC_DOG5"                          : 90,
    "NPC_CROCODILE2"                    : 91,
    "NPC_MOLE2"                         : 92,
    "NPC_SQUIRREL3"                     : 93,
    "NPC_BIRD_GREENWOOD_LEAF"           : 97,
    "NPC_MOLE3"                         : 98,
    "NPC_DEER_MAGIC_BELL"               : 99,
    "NPC_BIRD3"                         : 100,
    "NPC_CROCODILE3"                    : 111,
    "NPC_MONMO"                         : 114,
    "NPC_DOLPHIN"                       : 124,
    "NPC_ANGELFISH"                     : 131,
    "NPC_MERMAID"                       : 132,
    "NPC_ANGELFISH2"                    : 134,
    "NPC_MERMAID_PEARL"                 : 138,
    "NPC_MERMAID2"                      : 139,
    "NPC_DOLPHIN_SAVES_LUE"             : 140,
    "NPC_MERMAID_STATUE_BLESTER"        : 141,
    "NPC_MERMAID_RED_HOT_STICK"         : 142,
    "NPC_LUE"                           : 143,
    "NPC_MERMAID3"                      : 146,
    "NPC_MERMAID_NANA"                  : 149,
    "NPC_MERMAID4"                      : 153,
    "NPC_DOLPHIN2"                      : 155,
    "NPC_MERMAID_STATUE_ROCKBIRD"       : 157,
    "NPC_MERMAID_BUBBLE_ARMOR"          : 161,
    "NPC_MERMAID5"                      : 164,
    "NPC_MERMAID6"                      : 165,
    "NPC_MERMAID_TEARS"                 : 167,
    "NPC_MERMAID_STATUE_DUREAN"         : 171,
    "NPC_ANGELFISH3"                    : 173,
    "NPC_ANGELFISH_SOUL_OF_SHIELD"      : 177,
    "NPC_MERMAID_MAGIC_FLARE"           : 181,
    "NPC_MERMAID_QUEEN"                 : 182,
    "NPC_MERMAID_STATUE_GHOST_SHIP"     : 185,
    "NPC_DOLPHIN_SECRET_CAVE"           : 187,
    "NPC_MERMAID7"                      : 189,
    "NPC_ANGELFISH4"                    : 190,
    "NPC_MERMAID8"                      : 192,
    "NPC_DOLPHIN_PEARL"                 : 193,
    "NPC_MERMAID9"                      : 194,
    "NPC_GRANDPA"                       : 201,
    "NPC_GIRL"                          : 202,
    "NPC_MUSHROOM"                      : 203,
    "NPC_BOY"                           : 204,
    "NPC_GRANDPA2"                      : 211,
    "NPC_SNAIL_JOCKEY"                  : 212,
    "NPC_NOME"                          : 214,
    "NPC_BOY2"                          : 215,
    "NPC_MUSHROOM_EMBLEM_F"             : 221,
    "NPC_DANCING_GRANDMA"               : 225,
    "NPC_DANCING_GRANDMA2"              : 230,
    "NPC_SNAIL_EMBLEM_E"                : 232,
    "NPC_BOY_MUSHROOM_SHOES"            : 233,
    "NPC_GRANDMA"                       : 234,
    "NPC_GIRL2"                         : 235,
    "NPC_MUSHROOM2"                     : 238,
    "NPC_SNAIL_RACER"                   : 239,
    "NPC_SNAIL_RACER2"                  : 240,
    "NPC_GIRL3"                         : 242,
    "NPC_MUSHROOM3"                     : 246,
    "NPC_SNAIL"                         : 247,
    "NPC_GRANDPA3"                      : 248,
    "NPC_SNAIL2"                        : 250,
    "NPC_GRANDPA4"                      : 252,
    "NPC_GRANDPA_LUNE"                  : 254,
    "NPC_GRANDPA5"                      : 255,
    "NPC_MOUNTAIN_KING"                 : 259,
    "NPC_PLANT_HERB"                    : 265,
    "NPC_PLANT"                         : 267,
    "NPC_CHEST_OF_DRAWERS_MYSTIC_ARMOR" : 268,
    "NPC_CAT"                           : 269,
    "NPC_GREAT_DOOR_ZANTETSU_SWORD"     : 274,
    "NPC_CAT2"                          : 276,
    "NPC_GREAT_DOOR"                    : 282,
    "NPC_CAT3"                          : 283,
    "NPC_MODEL_TOWN1"                   : 286,
    "NPC_GREAT_DOOR_MODEL_TOWNS"        : 288,
    "NPC_STEPS_UPSTAIRS"                : 290,
    "NPC_CAT_DOOR_KEY"                  : 294,
    "NPC_MOUSE"                         : 297,
    "NPC_MARIE"                         : 303,
    "NPC_DOLL"                          : 310,
    "NPC_CHEST_OF_DRAWERS"              : 311,
    "NPC_PLANT2"                        : 313,
    "NPC_MOUSE2"                        : 315,
    "NPC_MOUSE_SPARK_BOMB"              : 316,
    "NPC_MOUSE3"                        : 318,
    "NPC_GREAT_DOOR_SOUL_OF_DETECTION"  : 322,
    "NPC_MODEL_TOWN2"                   : 325,
    "NPC_MOUSE4"                        : 330,
    "NPC_STEPS_MARIE"                   : 331,
    "NPC_CHEST_OF_DRAWERS2"             : 332,
    "NPC_PLANT_ACTINIDIA_LEAVES"        : 333,
    "NPC_MOUSE5"                        : 338,
    "NPC_CAT4"                          : 339,
    "NPC_STAIRS_POWER_PLANT"            : 341,
    "NPC_SOLDIER"                       : 345,
    "NPC_SOLDIER2"                      : 346,
    "NPC_SOLDIER3"                      : 351,
    "NPC_SOLDIER_ELEMENTAL_MAIL"        : 353,
    "NPC_SOLDIER4"                      : 354,
    "NPC_SOLDIER5"                      : 358,
    "NPC_SINGER_CONCERT_HALL"           : 359,
    "NPC_SOLDIER6"                      : 360,
    "NPC_MAID"                          : 363,
    "NPC_SOLDIER_LEFT_TOWER"            : 365,
    "NPC_SOLDIER_DOK"                   : 366,
    "NPC_SOLDIER_PLATINUM_CARD"         : 368,
    "NPC_SINGER"                        : 370,
    "NPC_SOLDIER_SOUL_OF_REALITY"       : 377,
    "NPC_MAID2"                         : 382,
    "NPC_QUEEN_MAGRIDD"                 : 383,
    "NPC_SOLDIER_WITH_LEO"              : 385,
    "NPC_SOLDIER_RIGHT_TOWER"           : 386,
    "NPC_DR_LEO"                        : 387,
    "NPC_SOLDIER7"                      : 389,
    "NPC_SOLDIER8"                      : 390,
    "NPC_MAID_HERB"                     : 391,
    "NPC_SOLDIER_CASTLE"                : 396,
    "NPC_SOLDIER9"                      : 397,
    "NPC_SOLDIER10"                     : 399,
    "NPC_SOLDIER11"                     : 402,
    "NPC_KING_MAGRIDD"                  : 405
}

REGION_LOOKUP = {
	# Region 0 - Act 1 start, Underground Castle before elevator
	0: {
		"checks": [ 
			{"type": "chest", "name": "sword_of_life_chest?"},
			{"type": "npc_id", "name": "ITEM_MAGICIAN"},
			{"type": "lair", "name": "NPC_OLD_WOMAN"},
			{"type": "lair", "name": "NPC_TOOL_SHOP_OWNER"},
			{"type": "lair", "name": "NPC_TULIP"},
			{"type": "lair", "name": "NPC_BRIDGE_GUARD"},
			{"type": "lair", "name": "NPC_IVY_CHEST_ROOM"},
			{"type": "lair", "name": "NPC_WATER_MILL"},
			{"type": "chest", "id": 3}, # GEMS_EXP 12
			{"type": "chest", "id": 4}, # MEDICAL_HERB
			{"type": "chest", "name": "CHEST_DREAM_ROD"},
			{"type": "npc_id", "name": "ITEM_CRYSTAL_UNDERGROUND_CASTLE"},
		],
		"requirements": [],
		"act": 1,
        "is_act_hub": True,
        "connected_regions": [1, 2, 3, 4, 5]
	},
    # Region 1 - Underground chest room
	1: {
        "checks": [ 
			{"type": "chest", "id": 1}, # IRON_ARMOR
			{"type": "chest", "id": 2}, # GEMS_EXP 50
			{"type": "npc_id", "name": "ITEM_CRYSTAL_GRASS_VALLEY"}, 
        ],
        "reqruirements": [ 
            {"type": "npc_id", "name": "NPC_BRIDGE_GUARD"},
            {"type": "npc_id", "name": "NPC_IVY_CHEST_ROOM"},
        ],
        "act": 1
    },
    # Region 2 - Underground Castle after elevator
	2: {
        "checks": [ 
			{"type": "lair", "name": "NPC_OLD_MAN2"}, 
			{"type": "lair", "name": "NPC_GOAT_HERB"},
			{"type": "lair", "name": "NPC_LISA"}, 
			{"type": "lair", "name": "NPC_TULIP2"}, 
			{"type": "lair", "name": "NPC_ARCHITECT"}, 
			{"type": "lair", "name": "NPC_IVY2"}, 
			{"type": "lair", "name": "NPC_TEDDY"}, 
			{"type": "lair", "name": "NPC_GOAT"}, 
			{"type": "lair", "name": "NPC_TULIP3"}, 
			{"type": "lair", "name": "NPC_LEOS_HOUSE"}, 
        ],
        "reqruirements": [ 
            {"type": "npc_id", "name": "NPC_BRIDGE_GUARD"},
            {"type": "npc_id", "name": "NPC_WATER_MILL"},
        ],
        "act": 1
    },
    # Region 3 - Leo's Paintings
	3: {
        "checks": [ 
			{"type": "lair", "name": "NPC_TULIP4"}, 
			{"type": "lair", "name": "NPC_LONELY_GOAT"}, 
			{"type": "lair", "name": "NPC_IVY"}, 
			{"type": "lair", "name": "NPC_GOAT2"}, 
			{"type": "lair", "name": "NPC_BOY_CABIN"}, 
			{"type": "lair", "name": "NPC_TULIP_PASS"}, 
			{"type": "lair", "name": "NPC_BOY_CAVE"}, 
			{"type": "lair", "name": "NPC_VILLAGE_CHIEF"}, 
			{"type": "chest", "id": 7}, # MEDICAL_HERB
        ],
        "reqruirements": [ 
            {"type": "npc_id", "name": "NPC_BRIDGE_GUARD"},
            {"type": "npc_id", "name": "NPC_ARCHITECT"},
            {"type": "npc_id", "name": "NPC_LEOS_HOUSE"},
            {"type": "item", "name": "CHEST_LEOS_BRUSH"},
        ],
        "act": 1
    },
    # Region 4 - Last part of Underground Castle (originally region 5)
	4: {
        "checks": [ 
			{"type": "lair", "name": "NPC_OLD_MAN"}, 
			{"type": "chest", "name": "CHEST_LEOS_BRUSH"},
        ],
        "reqruirements": [ 
            {"type": "npc_id", "name": "NPC_LISA"},
            {"type": "item", "name": "CHEST_DREAM_ROD"},
        ],
        "act": 1
    },
    # Region 5 - Leo's Paintings Metal Enemies (originally region 6)
	5: {
        "checks": [ 
			{"type": "lair", "name": "NPC_IVY_EMBLEM_A"}, 
			{"type": "lair", "name": "NPC_IVY_RECOVERY_SWORD"}, 
			{"type": "chest", "id": 8}, # TORNADO
        ],
        "reqruirements": [ 
            {"type": "flag", "name": "can_cut_metal"},
            {"type": "npc_id", "name": "NPC_BRIDGE_GUARD"},
            {"type": "npc_id", "name": "NPC_ARCHITECT"},
            {"type": "npc_id", "name": "NPC_LEOS_HOUSE"},
            {"type": "item", "name": "CHEST_LEOS_BRUSH"},
        ],
        "act": 1
    },
    # Removed this section because it is essentially the same as being in the beginning of act 2.
    # # Region 6 - Final part of Act 1. Get item from mayor and start Act 2.
	# 6: {
    #     "checks": [ 
	# 		{"type": "npc_id", "name": "ITEM_VILLAGE_CHIEF"}, 
    #     ],
    #     "reqruirements": [ 
    #         {"type": "npc_id", "name": "NPC_VILLAGE_CHIEF"},
    #         {"type": "npc_id", "name": "NPC_OLD_WOMAN"},
    #     ],
    #     "act": 1,
    # },
    # Region 6 - Act 2 start, Lost Marshes + Water/Fire Shrines (originally region 4)
	6: {
        "checks": [ 
			{"type": "npc_id", "name": "ITEM_VILLAGE_CHIEF"}, 
			{"type": "lair", "name": "NPC_BIRD"}, 
			{"type": "lair", "name": "NPC_DOG"}, 
			{"type": "lair", "name": "NPC_SQUIRREL_PSYCHO_SWORD"}, 
			{"type": "lair", "name": "NPC_BIRD2"}, 
			{"type": "lair", "name": "NPC_MOLE_SOUL_OF_LIGHT"}, 
			{"type": "lair", "name": "NPC_CROCODILE"}, 
			{"type": "lair", "name": "NPC_SQUIRREL"}, 
			{"type": "lair", "name": "NPC_MOLE"}, 
			{"type": "lair", "name": "NPC_DEER"}, 
			{"type": "lair", "name": "NPC_DOG2"}, 
			{"type": "lair", "name": "NPC_DOG4"}, 
			{"type": "lair", "name": "NPC_DOG5"}, 
			{"type": "lair", "name": "NPC_CROCODILE2"}, 
			{"type": "lair", "name": "NPC_SQUIRREL_ICE_ARMOR"}, 
			{"type": "lair", "name": "NPC_MOLE2"}, 
			{"type": "lair", "name": "NPC_SQUIRREL3"}, 
			{"type": "lair", "name": "NPC_BIRD_GREENWOOD_LEAF"}, 
			{"type": "lair", "name": "NPC_MOLE3"}, 
			{"type": "lair", "name": "NPC_DEER_MAGIC_BELL"}, 
			{"type": "lair", "name": "NPC_SQUIRREL2"}, 
			{"type": "chest", "id": 11}, # GEMS_EXP 50
			{"type": "chest", "id": 12}, # GEMS_EXP 150
			{"type": "chest", "id": 13}, # MEDICAL_HERB
			{"type": "chest", "id": 14}, # DELICIOUS_SEEDS
			{"type": "chest", "id": 15}, # GEMS_EXP 50
			{"type": "chest", "id": 16}, # MEDICAL_HERB
			# {"type": "chest", "id": 17}, # NOTHING # WARNING: this (normally empty) chest can disappear!!!
			{"type": "chest", "id": 19}, # GEMS_EXP 100
			{"type": "chest", "id": 20}, # GEMS_EXP 60
			{"type": "chest", "name": "ITEM_CRYSTAL_WATER_SHRINE"}, 
			{"type": "chest", "name": "ITEM_WATER_SHRINE_TILE"}, 
			{"type": "chest", "name": "ITEM_CRYSTAL_LIGHT_ARROW"}, 
        ],
        "reqruirements": [ 
            {"type": "npc_id", "name": "NPC_VILLAGE_CHIEF"},
            {"type": "npc_id", "name": "NPC_OLD_WOMAN"},
        ],
        "act": 2,
        "is_act_hub": True,
        "connected_regions": [7, 8, 9, 10, 11]
    },
    # Region 7 - Last part of Marshes + Light Shrine
	7: {
        "checks": [ 
			{"type": "lair", "name": "NPC_MOLE_SHIELD_BRACELET"}, 
			{"type": "lair", "name": "NPC_DOG3"}, 
			{"type": "lair", "name": "NPC_SQUIRREL_EMBLEM_C"}, 
			{"type": "lair", "name": "NPC_CROCODILE3"}, 
			{"type": "lair", "name": "NPC_MONMO"}, 
			{"type": "lair", "name": "NPC_GREENWOODS_GUARDIAN"}, 
			{"type": "item", "name": "ITEM_CRYSTAL_LOST_MARSH"}, 
        ],
        "reqruirements": [ 
            {"type": "item", "name": "ITEM_GREENWOOD_LEAVES"},
        ],
        "act": 2
    },
    # Region 8 - Fire Shrine Scorpions
	8: {
        "checks": [ 
			{"type": "lair", "name": "NPC_BIRD3"}, 
			{"type": "chest", "id": 18}, 
			{"type": "item", "name": "ITEM_CRYSTAL_FIRE_SHRINE"}, 
        ],
        "reqruirements": [ 
            {"type": "flag", "name": "can_cut_metal"},
        ],
        "act": 2
    },
    # Region 9 - Monmo's Treasure
	9: {
        "checks": [ 
			{"type": "chest", "id": 10}, # MOLES_RIBBON
        ],
        "reqruirements": [ 
            {"type": "npc_id", "name": "NPC_MONMO"},
            {"type": "npc_id", "name": "NPC_MOLE3"},
        ],
        "act": 2
    },
    # Region 10 - Ice Armor chest
	10: {
        "checks": [ 
			{"type": "chest", "id": 9}, # ICE_ARMOR
        ],
        "reqruirements": [ 
            {"type": "npc_id", "name": "NPC_MOLE"},
            {"type": "npc_id", "name": "NPC_SQUIRREL_ICE_ARMOR"},
            {"type": "item", "name": "CHEST_DREAM_ROD"},
        ],
        "act": 2
    },
    # Region 11 - Light Shrine Fire Spirits (previously region 12)
	11: {
        "checks": [ 
			{"type": "lair", "name": "NPC_BIRD_RED_HOT_MIRROR"}, 
			{"type": "chest", "id": 21}, # FLAME_PILLAR
        ],
        "reqruirements": [ 
            {"type": "flag", "name": "can_cut_spirit"},
            {"type": "item", "name": "ITEM_GREENWOOD_LEAVES"},
       ],
        "act": 2
    },
    # Region 12 - Act 3 start, Southerta (previously region 11)
	12: {
        "checks": [ 
			{"type": "npc_id", "name": "ITEM_GREENWOODS_GUARDIAN"}, 
			{"type": "lair", "name": "NPC_DOLPHIN2"}, 
			{"type": "lair", "name": "NPC_MERMAID4"}, 
			{"type": "lair", "name": "NPC_MERMAID5"}, 
			{"type": "lair", "name": "NPC_MERMAID6"}, 
			{"type": "lair", "name": "NPC_MERMAID_BUBBLE_ARMOR"}, 
			{"type": "chest", "id": 28}, # MEDICAL_HERB
        ],
        "reqruirements": [ 
            {"type": "npc_id", "name": "NPC_GREENWOODS_GUARDIAN"},
       ],
        "act": 3,
        "is_act_hub": True,
        "connected_regions": [13, 14, 15, 16, 17, 18, 19, 20, 21]
    },
    # Region 13 - Last soul of Southerta
	13: {
        "checks": [ 
			{"type": "lair", "name": "NPC_MERMAID_STATUE_ROCKBIRD"}, 
        ],
        "reqruirements": [ 
            {"type": "item", "name": "ITEM_MERMAID_BUBBLE_ARMOR"},
       ],
        "act": 3
    },
    # Region 14 - Big Pearl chest (previously region 15)
	14: {
        "checks": [ 
			{"type": "chest", "name": "CHEST_BIG_PEARL"}, 
        ],
        "reqruirements": [ 
            {"type": "npc_id", "name": "NPC_MERMAID_PEARL"},
            {"type": "npc_id", "name": "NPC_DOLPHIN_PEARL"},
       ],
        "act": 3
    },
    # Region 15 - Rockbird (previously region 16)
	15: {
        "checks": [ 
			{"type": "lair", "name": "NPC_MERMAID9"}, 
			{"type": "lair", "name": "NPC_MERMAID_TEARS"}, 
			{"type": "lair", "name": "NPC_MERMAID_MAGIC_FLARE"}, 
			{"type": "lair", "name": "NPC_ANGELFISH_SOUL_OF_SHIELD"}, 
			{"type": "lair", "name": "NPC_MERMAID_STATUE_DUREAN"}, 
			{"type": "chest", "id": 29}, # MEDICAL_HERB
			{"type": "chest", "id": 30}, # GEMS_EXP 60
			{"type": "npc_id", "name": "ITEM_CRYSTAL_ROCKBIRD"}, 
        ],
        "reqruirements": [ 
            {"type": "npc_id", "name": "NPC_MERMAID_STATUE_ROCKBIRD"},
       ],
        "act": 3
    },
    # Region 16 - Blester (previously region 17)
	16: {
        "checks": [ 
			{"type": "lair", "name": "NPC_ANGELFISH"}, 
			{"type": "lair", "name": "NPC_ANGELFISH2"}, 
			{"type": "lair", "name": "NPC_MERMAID"}, 
			{"type": "lair", "name": "NPC_MERMAID7"}, 
			{"type": "lair", "name": "NPC_ANGELFISH4"}, 
			{"type": "lair", "name": "NPC_MERMAID8"}, 
			{"type": "lair", "name": "NPC_DOLPHIN_SECRET_CAVE"}, 
			{"type": "npc_id", "name": "ITEM_CRYSTAL_SEABED_NEAR_BLESTER"}, 
        ],
        "reqruirements": [ 
            {"type": "npc_id", "name": "NPC_MERMAID_STATUE_BLESTER"}, 
       ],
        "act": 3
    },
    # Region 17 - Blester Metal Gorillas (previously region 20)
	17: {
        "checks": [ 
			{"type": "lair", "name": "NPC_MERMAID_STATUE_GHOST_SHIP"}, 
        ],
        "contains_groups": True,
        "reqruirements": [ 
            {"type": "npc_id", "name": "NPC_MERMAID_STATUE_BLESTER", "always_required": True}, 
            {"type": "item", "name": "THUNDER_RING", "req_group": 1}, 
            {"type": "flag", "name": "can_cut_metal", "req_group": 2}, 
       ],
        "act": 3
    },
    # Region 18 - Durean
	18: {
        "checks": [ 
			{"type": "lair", "name": "NPC_DOLPHIN_PEARL"}, 
			{"type": "lair", "name": "NPC_LUE"}, 
			{"type": "lair", "name": "NPC_MERMAID_PEARL"}, 
			{"type": "lair", "name": "NPC_MERMAID2"}, 
			{"type": "lair", "name": "NPC_MERMAID_NANA"}, 
			{"type": "lair", "name": "NPC_DOLPHIN_SAVES_LUE"}, 
			{"type": "lair", "name": "NPC_MERMAID3"}, 
			{"type": "lair", "name": "NPC_MERMAID_STATUE_BLESTER"}, 
			{"type": "chest", "id": 31}, # CRITICAL_SWORD
			{"type": "chest", "id": 32}, # STRANGE_BOTTLE
			{"type": "npc_id", "name": "ITEM_CRYSTAL_SEABED_NEAR_DUREAN"}, 
        ],
        "reqruirements": [ 
            {"type": "npc_id", "name": "NPC_MERMAID_STATUE_DUREAN"}, 
       ],
        "act": 3
    },
    # Region 19 - Durean Metal Gorillas (previously region 21)
	19: {
        "checks": [ 
			{"type": "lair", "name": "NPC_MERMAID_RED_HOT_STICK"}, 
        ],
        "reqruirements": [ 
            {"type": "npc_id", "name": "NPC_MERMAID_STATUE_DUREAN"}, 
            {"type": "flag", "name": "can_cut_metal"}, 
       ],
        "act": 3
    },
    # Region 20 - Ghost Ship (previously region 19)
	20: {
        "checks": [ 
			{"type": "lair", "name": "NPC_ANGELFISH3"}, 
			{"type": "lair", "name": "NPC_DOLPHIN"}, 
			{"type": "lair", "name": "NPC_MERMAID_QUEEN"}, 
			{"type": "chest", "id": 33}, # GEMS_EXP 1
			{"type": "chest", "id": 34}, # POWER_BRACELET
        ],
        "reqruirements": [ 
            {"type": "npc_id", "name": "NPC_MERMAID_STATUE_GHOST_SHIP"}, 
            {"type": "npc_id", "name": "NPC_MERMAID_STATUE_DUREAN"}, 
       ],
        "act": 3
    },
    # Region 21 - Seabed Secret Cave (previously region 22)
	21: {
        "checks": [ 
			{"type": "chest", "id": 24}, # EMBLEM_D
			{"type": "chest", "id": 25}, # GEMS_EXP 80
			{"type": "chest", "id": 26}, # MEDICAL_HERB
			{"type": "chest", "id": 27}, # NOTHING
        ],
        "reqruirements": [ 
            {"type": "npc_id", "name": "NPC_MERMAID_PEARL"}, 
            {"type": "npc_id", "name": "NPC_DOLPHIN_SECRET_CAVE"}, 
            {"type": "npc_id", "name": "NPC_MERMAID_STATUE_GHOST_SHIP"}, 
            {"type": "npc_id", "name": "NPC_MERMAID_STATUE_DUREAN"}, 
            {"type": "item", "name": "DREAM_ROD"}, 
            {"type": "item", "name": "BIG_PEARL"}, 
       ],
        "act": 3
    },
    # Region 22 - Used to be Mermaid's Tears chest, now useless (previously region 23)
    # Region ^ was never neaded. I'm leaving a space here JIC.
    # Region 23 - Act 4 start, Mountain of Souls (previously region 14)
	23: {
        "checks": [ 
			{"type": "npc_id", "name": "ITEM_MERMAID_QUEEN"}, 
			{"type": "lair", "name": "NPC_GIRL"}, 
			{"type": "lair", "name": "NPC_GRANDPA"}, 
			{"type": "lair", "name": "NPC_MUSHROOM"}, 
			{"type": "lair", "name": "NPC_BOY"}, 
			{"type": "lair", "name": "NPC_GRANDPA2"}, 
			{"type": "lair", "name": "NPC_SNAIL_JOCKEY"}, 
			{"type": "lair", "name": "NPC_BOY_MUSHROOM_SHOES"}, 
			{"type": "lair", "name": "NPC_GIRL2"}, 
			{"type": "chest", "id": 35}, 
			{"type": "chest", "id": 36}, 
			{"type": "chest", "id": 37}, 
			{"type": "chest", "id": 38}, 
			{"type": "chest", "id": 39}, 
			{"type": "npc_id", "name": "ITEM_CRYSTAL_MOUNTAIN_OF_SOULS"}, 
        ],
        "reqruirements": [ 
            {"type": "npc_id", "name": "NPC_MERMAID_QUEEN"},
       ],
        "act": 4,
        "is_act_hub": True,
        "connected_regions": [24, 25]
    },
    # Region 24 - Mountain of Souls last lair + Laynole
	24: {
        "checks": [ 
			{"type": "lair", "name": "NPC_GRANDMA"}, 
			{"type": "lair", "name": "NPC_MUSHROOM2"}, 
			{"type": "lair", "name": "NPC_SNAIL_RACER"}, 
			{"type": "lair", "name": "NPC_SNAIL_RACER2"}, 
			{"type": "lair", "name": "NPC_GIRL3"}, 
			{"type": "lair", "name": "NPC_MUSHROOM3"}, 
			{"type": "lair", "name": "NPC_SNAIL"}, 
			{"type": "lair", "name": "NPC_GRANDPA3"}, 
			{"type": "lair", "name": "NPC_GRANDPA4"}, 
			{"type": "lair", "name": "NPC_GRANDPA_LUNE"}, 
			{"type": "lair", "name": "NPC_SNAIL2"}, 
			{"type": "lair", "name": "NPC_GRANDPA5"}, 
			{"type": "chest", "name": "CHEST_LUCKY_BLADE"}, 
        ],
        "reqruirements": [ 
            {"type": "item", "name": "MUSHROOM_SHOES"},
       ],
        "act": 4,
    },
    # Region 25 - Last part of Laynole + Lune
	25: {
        "checks": [ 
			{"type": "lair", "name": "NPC_BOY2"}, 
			{"type": "lair", "name": "NPC_NOME"}, 
			{"type": "lair", "name": "NPC_MUSHROOM_EMBLEM_F"}, 
			{"type": "lair", "name": "NPC_DANCING_GRANDMA"}, 
			{"type": "lair", "name": "NPC_DANCING_GRANDMA2"}, 
			{"type": "lair", "name": "NPC_MOUNTAIN_KING"}, 
			{"type": "chest", "id": 41}, # STRANGE_BOTTLE
			{"type": "chest", "id": 42}, # ROTATOR
			{"type": "npc_id", "name": "ITEM_CRYSTAL_LUNE"}, 
        ],
        "reqruirements": [ 
            {"type": "item", "name": "LUCKY_BLADE"},
            {"type": "npc_id", "name": "NPC_GIRL3"},
            {"type": "npc_id", "name": "NPC_GRANDPA4"},
            {"type": "npc_id", "name": "NPC_GRANDPA_LUNE"},
       ],
        "act": 4,
    },
    # Region 26 - Act 5 start, first lairs of Leo's Lab Basement
	26: {
        "checks": [ 
			{"type": "lair", "name": "NPC_PLANT"}, 
			{"type": "lair", "name": "NPC_CAT"}, 
			{"type": "lair", "name": "NPC_GREAT_DOOR_ZANTETSU_SWORD"}, 
			{"type": "npc_id", "name": "ITEM_NOME"}, 
        ],
        "reqruirements": [ 
            {"type": "npc_id", "name": "NPC_GIRL3"},
            {"type": "npc_id", "name": "NPC_GRANDPA4"},
            {"type": "npc_id", "name": "NPC_MUSHROOM2"},
            {"type": "npc_id", "name": "NPC_GRANDPA5"},
            {"type": "npc_id", "name": "NPC_NOME"},
            {"type": "npc_id", "name": "NPC_MOUNTAIN_KING"},
       ],
        "act": 5,
         "is_act_hub": True,
        "connected_regions": []
   },
    # Region 27 - Leo's Lab Basement (previously region 28)
	27: {
        "checks": [ 
			{"type": "lair", "name": "NPC_PLANT_HERB"}, 
			{"type": "lair", "name": "NPC_CAT2"}, 
			{"type": "lair", "name": "NPC_CAT3"}, 
			{"type": "lair", "name": "NPC_GREAT_DOOR"}, 
			{"type": "lair", "name": "NPC_CHEST_OF_DRAWERS_MYSTIC_ARMOR"}, 
			{"type": "lair", "name": "NPC_CAT_DOOR_KEY"}, 
			{"type": "lair", "name": "NPC_STEPS_UPSTAIRS"}, 
			{"type": "lair", "name": "NPC_MOUSE"}, 
			{"type": "lair", "name": "NPC_GREAT_DOOR_MODEL_TOWNS"}, 
			{"type": "lair", "name": "NPC_MODEL_TOWN1"}, 
			{"type": "npc_id", "name": "ITEM_CRYSTAL_LEOS_LAB_BASEMENT"}, 
        ],
        "reqruirements": [ 
            {"type": "item", "name": "CHEST_ZANTETSU_SWORD"},
       ],
        "act": 5,
   },
    # Region 28 - Leo's Lab main room (previously region 27)
	28: {
        "checks": [ 
			{"type": "chest", "id": 43}, # ZANTETSU_SWORD
        ],
        "reqruirements": [ 
            {"type": "npc_id", "name": "NPC_GREAT_DOOR_ZANTETSU_SWORD"},
       ],
        "act": 5,
   },
    # Region 29 - Model Town 1
	29: {
        "checks": [ 
			{"type": "lair", "name": "NPC_CHEST_OF_DRAWERS"}, 
			{"type": "lair", "name": "NPC_PLANT2"}, 
			{"type": "lair", "name": "NPC_MOUSE2"}, 
			{"type": "lair", "name": "NPC_MOUSE3"}, 
			{"type": "lair", "name": "NPC_MOUSE4"}, 
			{"type": "lair", "name": "NPC_MOUSE_SPARK_BOMB"}, 
			{"type": "lair", "name": "NPC_GREAT_DOOR_SOUL_OF_DETECTION"}, 
			{"type": "lair", "name": "NPC_MODEL_TOWN2"}, 
			{"type": "lair", "name": "NPC_STEPS_MARIE"}, 
			{"type": "chest", "id": 45}, # GEMS_EXP 50
			{"type": "chest", "id": 46}, # MEDICAL_HERB
			{"type": "chest", "id": 47}, # GEMS_EXP 80
			{"type": "npc_id", "name": "ITEM_CRYSTAL_MODEL_TOWN"}, 
        ],
        "reqruirements": [ 
            {"type": "npc_id", "name": "NPC_MODEL_TOWN1"},
            {"type": "npc_id", "name": "NPC_GREAT_DOOR_MODEL_TOWNS"},
            {"type": "npc_id", "name": "NPC_STEPS_UPSTAIRS"},
            {"type": "flag", "name": "has_magic"},
       ],
        "act": 5,
   },
    # Region 30 - Model Town 2
30: {
        "checks": [ 
			{"type": "lair", "name": "NPC_CHEST_OF_DRAWERS2"}, 
			{"type": "lair", "name": "NPC_PLANT_ACTINIDIA_LEAVES"}, 
			{"type": "lair", "name": "NPC_MOUSE5"}, 
			{"type": "lair", "name": "NPC_CAT4"}, 
			{"type": "lair", "name": "NPC_STAIRS_POWER_PLANT"}, 
			{"type": "chest", "id": 48}, # STRANGE_BOTTLE
			{"type": "chest", "id": 49}, # MEDICAL_HERB
        ],
        "reqruirements": [ 
            {"type": "npc_id", "name": "NPC_MODEL_TOWN2"},
            {"type": "npc_id", "name": "NPC_GREAT_DOOR_MODEL_TOWNS"},
            {"type": "npc_id", "name": "NPC_STEPS_UPSTAIRS"},
            {"type": "flag", "name": "has_magic"},
       ],
        "act": 5,
   },
}